{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{\"10Ph\":function(n,t,i){var e=i(\"PwGc\");\"string\"==typeof e&&(e=[[n.i,e,\"\"]]),e.locals&&(n.exports=e.locals);i(\"SZ7m\")(\"0ef53dae\",e,!0,{})},CKp8:function(n,t,i){\"use strict\";i.r(t);i(\"rB5s\");var e=i(\"VD6T\"),r=i(\"4d7F\"),l=i.n(r),s=i(\"H7qB\"),o={name:\"bubble\",props:{y:{type:Number,default:0}},data:function(){return{width:30,height:60}},computed:{distance:function(){return Math.max(0,Math.min(this.y*this.ratio,this.maxDistance))},style:function(){return\"width:\"+this.width/this.ratio+\"px;height:\"+this.height/this.ratio+\"px\"}},created:function(){this.ratio=window.devicePixelRatio,this.width*=this.ratio,this.height*=this.ratio,this.initRadius=14*this.ratio,this.minHeadRadius=12*this.ratio,this.minTailRadius=6*this.ratio,this.initArrowRadius=9*this.ratio,this.minArrowRadius=6*this.ratio,this.arrowWidth=2*this.ratio,this.maxDistance=40*this.ratio,this.initCenterX=15*this.ratio,this.initCenterY=15*this.ratio,this.headCenter={x:this.initCenterX,y:this.initCenterY}},mounted:function(){this._draw()},methods:{_draw:function(){var n=this.$refs.bubble,t=n.getContext(\"2d\");t.clearRect(0,0,n.width,n.height),this._drawBubble(t),this._drawArrow(t)},_drawBubble:function(n){n.save(),n.beginPath();var t=this.distance/this.maxDistance,i=this.initRadius-(this.initRadius-this.minHeadRadius)*t;this.headCenter.y=this.initCenterY-(this.initRadius-this.minHeadRadius)*t,n.arc(this.headCenter.x,this.headCenter.y,i,0,Math.PI,!0);var e=this.initRadius-(this.initRadius-this.minTailRadius)*t,r={x:this.headCenter.x,y:this.headCenter.y+this.distance},l={x:r.x-e,y:r.y},s={x:l.x,y:l.y-this.distance/2};n.quadraticCurveTo(s.x,s.y,l.x,l.y),n.arc(r.x,r.y,e,Math.PI,0,!0);var o={x:this.headCenter.x+i,y:this.headCenter.y},a={x:r.x+e,y:o.y+this.distance/2};n.quadraticCurveTo(a.x,a.y,o.x,o.y),n.fillStyle=\"rgb(170,170,170)\",n.fill(),n.strokeStyle=\"rgb(153,153,153)\",n.stroke(),n.restore()},_drawArrow:function(n){n.save(),n.beginPath();var t=this.distance/this.maxDistance,i=this.initArrowRadius-(this.initArrowRadius-this.minArrowRadius)*t;n.arc(this.headCenter.x,this.headCenter.y,i-(this.arrowWidth-t),-Math.PI/2,0,!0),n.arc(this.headCenter.x,this.headCenter.y,i,0,3*Math.PI/2,!1),n.lineTo(this.headCenter.x,this.headCenter.y-i-this.arrowWidth/2+t),n.lineTo(this.headCenter.x+2*this.arrowWidth-2*t,this.headCenter.y-i+this.arrowWidth/2),n.lineTo(this.headCenter.x,this.headCenter.y-i+3*this.arrowWidth/2-t),n.fillStyle=\"rgb(255,255,255)\",n.fill(),n.strokeStyle=\"rgb(170,170,170)\",n.stroke(),n.restore()}},watch:{y:function(){this._draw()}}},a=i(\"JFUb\");var u=function(n){i(\"10Ph\")},h=Object(a.a)(o,function(){var n=this.$createElement;return(this._self._c||n)(\"canvas\",{ref:\"bubble\",style:this.style,attrs:{width:this.width,height:this.height}})},[],!1,u,\"data-v-a32a0a8a\",null).exports,p={name:\"app-scroll\",props:{probeType:{type:Number,default:1},click:{type:Boolean,default:!0},direction:{type:String,default:\"vertical\"},listenScroll:{type:Boolean,default:!1},listenBeforeScroll:{type:Boolean,default:!1},listenScrollEnd:{type:Boolean,default:!1},data:{type:Array,default:function(){return[]}},pullUpLoad:{type:Boolean,default:!1},pullDownRefresh:{type:Boolean,default:!1},refreshDelay:{type:Number,default:20}},data:function(){return{beforePullDown:!0,isRebounding:!1,isPullingDown:!1,isPullUpLoad:!1,pullUpDirty:!0,pullDownStyle:\"\",bubbleY:0}},computed:{pullUpTxt:function(){var n=this.pullUpLoad&&this.pullUpLoad.txt&&this.pullUpLoad.txt.more||\"加载更多...\",t=this.pullUpLoad&&this.pullUpLoad.txt&&this.pullUpLoad.txt.noMore||\"已到最后\";return this.pullUpDirty?n:t},refreshTxt:function(){return this.pullDownRefresh&&this.pullDownRefresh.txt||\"刷新成功\"}},created:function(){this.pullDownInitTop=-40},mounted:function(){var n=this;setTimeout(function(){return n.initScroll()},this.refreshDelay)},destroyed:function(){this.scroll&&this.scroll.destroy()},methods:{initScroll:function(){var n=this;this.$refs.wrapper&&(this.$refs.content&&(this.pullDownRefresh||this.pullUpLoad)&&(this.$refs.content.style.minHeight=this.$refs.wrapper.clientHeight+1+\"px\"),this.scroll=new s.a(this.$refs.wrapper,{probeType:this.probeType,click:this.click,tap:this.click,scrollY:\"vertical\"===this.direction,scrollX:\"horizontal\"===this.direction,pullDownRefresh:this.pullDownRefresh,pullUpLoad:this.pullUpLoad}),this.listenScroll&&this.scroll.on(\"scroll\",function(t){n.$emit(\"scroll\",t)}),this.listenScrollEnd&&this.scroll.on(\"scrollEnd\",function(t){n.$emit(\"scroll-end\",t)}),this.listenBeforeScroll&&this.scroll.on(\"scrollStart\",function(t){n.$emit(\"scroll-start\",t)}),this.pullDownRefresh&&this._initPullDownRefresh(),this.pullUpLoad&&this._initPullUpLoad())},disable:function(){this.scroll&&this.scroll.disable()},enable:function(){this.scroll&&this.scroll.enable()},refresh:function(){this.scroll&&this.scroll.refresh()},scrollTo:function(){this.scroll&&this.scroll.scrollTo.apply(this.scroll,arguments)},scrollToElement:function(){this.scroll&&this.scroll.scrollToElement.apply(this.scroll,arguments)},forceUpdate:function(n){var t=this;this.pullDownRefresh&&this.isPullingDown?(this.isPullingDown=!1,this._reboundPullDown().then(function(){return t._afterPullDown()})):this.pullUpLoad&&this.isPullUpLoad?(this.isPullUpLoad=!1,this.scroll.finishPullUp(),this.pullUpDirty=n,this.refresh()):this.refresh()},_initPullUpLoad:function(){var n=this;this.scroll.on(\"pullingUp\",function(){n.isPullUpLoad=!0,n.$emit(\"pullup\")})},_initPullDownRefresh:function(){var n=this;this.scroll.on(\"pullingDown\",function(){n.beforePullDown=!1,n.isPullingDown=!0,n.$emit(\"pulldown\")}),this.scroll.on(\"scroll\",function(t){n.pullDownRefresh&&(n.beforePullDown?(n.bubbleY=Math.max(0,t.y+n.pullDownInitTop),n.pullDownStyle=\"top:\"+Math.min(t.y+n.pullDownInitTop,10)+\"px\"):n.bubbleY=0,n.isRebounding&&(n.pullDownStyle=\"top:\"+(10-(n.pullDownRefresh.stop-t.y))+\"px\"))})},_reboundPullDown:function(){var n=this,t=this.pullDownRefresh.stopTime,i=void 0===t?600:t;return new l.a(function(t){setTimeout(function(){n.isRebounding=!0,n.scroll.finishPullDown(),t()},i)})},_afterPullDown:function(){var n=this;setTimeout(function(){n.pullDownStyle=\"top:\"+n.pullDownInitTop+\"px\",n.beforePullDown=!0,n.isRebounding=!1,n.refresh()},this.scroll.options.bounceTime)}},watch:{data:function(){var n=this;setTimeout(function(){return n.forceUpdate(!0)},this.refreshDelay)}},components:{Bubble:h,VanLoading:e.a}};var c=function(n){i(\"wJCI\")},d={name:\"detail\",data:function(){return{list:[],pageIndex:0}},created:function(){this.getData(this.pageIndex)},methods:{getData:function(n){for(var t=this,i=[],e=0;e<20;e++)i.push(Math.random().toString().slice(2));setTimeout(function(){n?n>=2?t.$refs.scroll.forceUpdate(!1):t.list=t.list.concat(i):(t.list=i,t.pageIndex=0)},1e3)},clickHandler:function(){console.log(event.target.innerHTML),alert(event.target.innerHTML)}},destroyed:function(){},components:{AppScroll:Object(a.a)(p,function(){var n=this,t=n.$createElement,i=n._self._c||t;return i(\"div\",{ref:\"wrapper\",staticClass:\"scroll-wrapper\"},[i(\"div\",{staticClass:\"scroll-box\"},[i(\"div\",{ref:\"content\"},[n._t(\"default\")],2),n._v(\" \"),n._t(\"pullup\",[n.pullUpLoad?i(\"div\",{staticClass:\"pullup-wrapper\"},[n.isPullUpLoad?i(\"div\",{staticClass:\"after-trigger\"},[i(\"van-loading\",{attrs:{type:\"spinner\",size:\"20px\"}})],1):i(\"div\",{staticClass:\"before-trigger\"},[i(\"span\",[n._v(n._s(n.pullUpTxt))])])]):n._e()],{pullUpLoad:n.pullUpLoad,isPullUpLoad:n.isPullUpLoad})],2),n._v(\" \"),n._t(\"pulldown\",[n.pullDownRefresh?i(\"div\",{ref:\"pulldown\",staticClass:\"pulldown-wrapper\",style:n.pullDownStyle},[n.beforePullDown?i(\"div\",{staticClass:\"before-trigger\"},[i(\"bubble\",{attrs:{y:n.bubbleY}})],1):i(\"div\",{staticClass:\"after-trigger\"},[n.isPullingDown?i(\"div\",[i(\"van-loading\",{attrs:{type:\"spinner\",size:\"20px\"}})],1):i(\"div\",[i(\"span\",[n._v(n._s(n.refreshTxt))])])])]):n._e()],{pullDownRefresh:n.pullDownRefresh,pullDownStyle:n.pullDownStyle,beforePullDown:n.beforePullDown,isPullingDown:n.isPullingDown,bubbleY:n.bubbleY})],2)},[],!1,c,null,null).exports}};var f=function(n){i(\"LIpm\")},w=Object(a.a)(d,function(){var n=this,t=n.$createElement,i=n._self._c||t;return i(\"div\",[i(\"p\",[n._v(\"详情页面 - \"+n._s(n.$route.params.id)+\" - \"),i(\"router-link\",{attrs:{to:\"/home\"}},[n._v(\"首页\")])],1),n._v(\" \"),i(\"app-scroll\",{ref:\"scroll\",staticClass:\"box\",attrs:{data:n.list,pullDownRefresh:!0,pullUpLoad:!0},on:{pulldown:function(t){n.getData(0)},pullup:function(t){n.getData(++n.pageIndex)}}},[i(\"ul\",n._l(n.list,function(t,e){return i(\"li\",{key:t,on:{click:function(t){return t.stopPropagation(),n.clickHandler(t)}}},[n._v(n._s(e+1+\" - \"+t))])}))])],1)},[],!1,f,\"data-v-217c09aa\",null);t.default=w.exports},LIpm:function(n,t,i){var e=i(\"Lrjn\");\"string\"==typeof e&&(e=[[n.i,e,\"\"]]),e.locals&&(n.exports=e.locals);i(\"SZ7m\")(\"75c820f1\",e,!0,{})},Lrjn:function(n,t,i){(n.exports=i(\"I1BE\")(!0)).push([n.i,\"\\n.box[data-v-217c09aa] {\\r\\n    width: 70%;\\r\\n    height: 60vh;\\r\\n    margin: 50px auto 0;\\r\\n    background: #f0f0f0;\\n}\\n.box ul li[data-v-217c09aa] {\\r\\n    line-height: 40px;\\r\\n    margin-bottom: 5px;\\r\\n    padding-left: 10px;\\r\\n    background: darkorange;\\r\\n    color: #fff;\\n}\\r\\n\",\"\",{version:3,sources:[\"C:/Users/win10/Desktop/mdm-wx/src/components/Detail.vue\"],names:[],mappings:\";AACA;IACI,WAAW;IACX,aAAa;IACb,oBAAoB;IACpB,oBAAoB;CACvB;AACD;IACI,kBAAkB;IAClB,mBAAmB;IACnB,mBAAmB;IACnB,uBAAuB;IACvB,YAAY;CACf\",file:\"Detail.vue\",sourcesContent:[\"\\n.box[data-v-217c09aa] {\\r\\n    width: 70%;\\r\\n    height: 60vh;\\r\\n    margin: 50px auto 0;\\r\\n    background: #f0f0f0;\\n}\\n.box ul li[data-v-217c09aa] {\\r\\n    line-height: 40px;\\r\\n    margin-bottom: 5px;\\r\\n    padding-left: 10px;\\r\\n    background: darkorange;\\r\\n    color: #fff;\\n}\\r\\n\"],sourceRoot:\"\"}])},PwGc:function(n,t,i){(n.exports=i(\"I1BE\")(!0)).push([n.i,\"\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\",\"\",{version:3,sources:[],names:[],mappings:\"\",file:\"Bubble.vue\",sourceRoot:\"\"}])},pWv4:function(n,t,i){(n.exports=i(\"I1BE\")(!0)).push([n.i,\"\\n.scroll-wrapper {\\r\\n    position: relative;\\r\\n    width: 100%;\\r\\n    height: 100%;\\r\\n    overflow: hidden;\\n}\\n.scroll-wrapper > .scroll-box {\\r\\n    position: relative;\\r\\n    z-index: 1;\\n}\\n.pulldown-wrapper {\\r\\n    position: absolute;\\r\\n    width: 100%;\\r\\n    left: 0;\\r\\n    display: flex;\\r\\n    justify-content: center;\\r\\n    align-items: center;\\r\\n    transition: all;\\n}\\n.pulldown-wrapper .after-trigger {\\r\\n    color: #999;\\n}\\n.pullup-wrapper {\\r\\n    width: 100%;\\r\\n    padding: 15px 0;\\r\\n    display: flex;\\r\\n    justify-content: center;\\r\\n    align-items: center;\\n}\\n.pullup-wrapper .before-trigger {\\r\\n    color: #999;\\n}\\r\\n\",\"\",{version:3,sources:[\"C:/Users/win10/Desktop/mdm-wx/src/components/Scroll.vue\"],names:[],mappings:\";AACA;IACI,mBAAmB;IACnB,YAAY;IACZ,aAAa;IACb,iBAAiB;CACpB;AACD;IACI,mBAAmB;IACnB,WAAW;CACd;AACD;IACI,mBAAmB;IACnB,YAAY;IACZ,QAAQ;IACR,cAAc;IACd,wBAAwB;IACxB,oBAAoB;IACpB,gBAAgB;CACnB;AACD;IACI,YAAY;CACf;AACD;IACI,YAAY;IACZ,gBAAgB;IAChB,cAAc;IACd,wBAAwB;IACxB,oBAAoB;CACvB;AACD;IACI,YAAY;CACf\",file:\"Scroll.vue\",sourcesContent:[\"\\n.scroll-wrapper {\\r\\n    position: relative;\\r\\n    width: 100%;\\r\\n    height: 100%;\\r\\n    overflow: hidden;\\n}\\n.scroll-wrapper > .scroll-box {\\r\\n    position: relative;\\r\\n    z-index: 1;\\n}\\n.pulldown-wrapper {\\r\\n    position: absolute;\\r\\n    width: 100%;\\r\\n    left: 0;\\r\\n    display: flex;\\r\\n    justify-content: center;\\r\\n    align-items: center;\\r\\n    transition: all;\\n}\\n.pulldown-wrapper .after-trigger {\\r\\n    color: #999;\\n}\\n.pullup-wrapper {\\r\\n    width: 100%;\\r\\n    padding: 15px 0;\\r\\n    display: flex;\\r\\n    justify-content: center;\\r\\n    align-items: center;\\n}\\n.pullup-wrapper .before-trigger {\\r\\n    color: #999;\\n}\\r\\n\"],sourceRoot:\"\"}])},wJCI:function(n,t,i){var e=i(\"pWv4\");\"string\"==typeof e&&(e=[[n.i,e,\"\"]]),e.locals&&(n.exports=e.locals);i(\"SZ7m\")(\"6ed072d3\",e,!0,{})}}]);","extractedComments":[]}